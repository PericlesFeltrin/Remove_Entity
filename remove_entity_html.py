import HTMLParser
h =  HTMLParser.HTMLParser()
#print h.unescape('&pound;682m')

with open('input.sql','r') as f:
    newlines = []
    for line in f.readlines():
       	#newlines.append(line.replace('0000-00-00 00:00:00', '2000-01-01 00:00:00'))
       	line = line.decode('utf-8')
       	line = line.replace('&quot;', h.unescape('&quot;'))
       	line = line.replace('&apos;', h.unescape('&apos;'))
       	line = line.replace('&amp;', h.unescape('&amp;'))
       	line = line.replace('&lt;', h.unescape('&lt;'))
       	line = line.replace('&gt;', h.unescape('&gt;'))
       	line = line.replace('&nbsp;', h.unescape('&nbsp;'))
       	line = line.replace('&iexcl;', h.unescape('&iexcl;'))
       	line = line.replace('&cent;', h.unescape('&cent;'))
       	line = line.replace('&pound;', h.unescape('&pound;'))
       	line = line.replace('&curren;', h.unescape('&curren;'))
       	line = line.replace('&yen;', h.unescape('&yen;'))
       	line = line.replace('&brvbar;', h.unescape('&brvbar;'))
       	line = line.replace('&sect;', h.unescape('&sect;'))
       	line = line.replace('&uml;', h.unescape('&uml;'))
       	line = line.replace('&copy;', h.unescape('&copy;'))
       	line = line.replace('&ordf;', h.unescape('&ordf;'))
       	line = line.replace('&laquo;', h.unescape('&laquo;'))
       	line = line.replace('&not;', h.unescape('&not;'))
       	line = line.replace('&shy;', h.unescape('&shy;'))
       	line = line.replace('&reg;', h.unescape('&reg;'))
       	line = line.replace('&macr;', h.unescape('&macr;'))
       	line = line.replace('&deg;', h.unescape('&deg;'))
       	line = line.replace('&plusmn;', h.unescape('&plusmn;'))
       	line = line.replace('&sup2;', h.unescape('&sup2;'))
       	line = line.replace('&sup3;', h.unescape('&sup3;'))
       	line = line.replace('&acute;', h.unescape('&acute;'))
       	line = line.replace('&micro;', h.unescape('&micro;'))
       	line = line.replace('&para;', h.unescape('&para;'))
       	line = line.replace('&middot;', h.unescape('&middot;'))
       	line = line.replace('&cedil;', h.unescape('&cedil;'))
       	line = line.replace('&sup1;', h.unescape('&sup1;'))
       	line = line.replace('&ordm;', h.unescape('&ordm;'))
       	line = line.replace('&raquo;', h.unescape('&raquo;'))
       	line = line.replace('&frac14;', h.unescape('&frac14;'))
       	line = line.replace('&frac12;', h.unescape('&frac12;'))
       	line = line.replace('&frac34;', h.unescape('&frac34;'))
       	line = line.replace('&iquest;', h.unescape('&iquest;'))
       	line = line.replace('&times;', h.unescape('&times;'))
       	line = line.replace('&divide;', h.unescape('&divide;'))
       	line = line.replace('&Agrave;', h.unescape('&Agrave;'))
       	line = line.replace('&Aacute;', h.unescape('&Aacute;'))
       	line = line.replace('&Acirc;', h.unescape('&Acirc;'))
       	line = line.replace('&Atilde;', h.unescape('&Atilde;'))
       	line = line.replace('&Auml;', h.unescape('&Auml;'))
       	line = line.replace('&Aring;', h.unescape('&Aring;'))
       	line = line.replace('&AElig;', h.unescape('&AElig;'))
       	line = line.replace('&Ccedil;', h.unescape('&Ccedil;'))
       	line = line.replace('&Egrave;', h.unescape('&Egrave;'))
       	line = line.replace('&Eacute;', h.unescape('&Eacute;'))
       	line = line.replace('&Ecirc;', h.unescape('&Ecirc;'))
       	line = line.replace('&Euml;', h.unescape('&Euml;'))
       	line = line.replace('&Igrave;', h.unescape('&Igrave;'))
       	line = line.replace('&Iacute;', h.unescape('&Iacute;'))
       	line = line.replace('&Icirc;', h.unescape('&Icirc;'))
       	line = line.replace('&Iuml;', h.unescape('&Iuml;'))
       	line = line.replace('&ETH;', h.unescape('&ETH;'))
       	line = line.replace('&Ntilde;', h.unescape('&Ntilde;'))
       	line = line.replace('&Ograve;', h.unescape('&Ograve;'))
       	line = line.replace('&Oacute;', h.unescape('&Oacute;'))
       	line = line.replace('&Ocirc;', h.unescape('&Ocirc;'))
       	line = line.replace('&Otilde;', h.unescape('&Otilde;'))
       	line = line.replace('&Ouml;', h.unescape('&Ouml;'))
       	line = line.replace('&Oslash;', h.unescape('&Oslash;'))
       	line = line.replace('&Ugrave;', h.unescape('&Ugrave;'))
       	line = line.replace('&Uacute;', h.unescape('&Uacute;'))
       	line = line.replace('&Ucirc;', h.unescape('&Ucirc;'))
       	line = line.replace('&Uuml;', h.unescape('&Uuml;'))
       	line = line.replace('&Yacute;', h.unescape('&Yacute;'))
       	line = line.replace('&THORN;', h.unescape('&THORN;'))
       	line = line.replace('&szlig;', h.unescape('&szlig;'))
       	line = line.replace('&agrave;', h.unescape('&agrave;'))
       	line = line.replace('&aacute;', h.unescape('&aacute;'))
       	line = line.replace('&acirc;', h.unescape('&acirc;'))
       	line = line.replace('&atilde;', h.unescape('&atilde;'))
       	line = line.replace('&auml;', h.unescape('&auml;'))
       	line = line.replace('&aring;', h.unescape('&aring;'))
       	line = line.replace('&aelig;', h.unescape('&aelig;'))
       	line = line.replace('&ccedil;', h.unescape('&ccedil;'))
       	line = line.replace('&egrave;', h.unescape('&egrave;'))
       	line = line.replace('&eacute;', h.unescape('&eacute;'))
       	line = line.replace('&ecirc;', h.unescape('&ecirc;'))
       	line = line.replace('&euml;', h.unescape('&euml;'))
       	line = line.replace('&igrave;', h.unescape('&igrave;'))
       	line = line.replace('&iacute;', h.unescape('&iacute;'))
       	line = line.replace('&icirc;', h.unescape('&icirc;'))
       	line = line.replace('&iuml;', h.unescape('&iuml;'))
       	line = line.replace('&eth;', h.unescape('&eth;'))
       	line = line.replace('&ntilde;', h.unescape('&ntilde;'))
       	line = line.replace('&ograve;', h.unescape('&ograve;'))
       	line = line.replace('&oacute;', h.unescape('&oacute;'))
       	line = line.replace('&ocirc;', h.unescape('&ocirc;'))
       	line = line.replace('&otilde;', h.unescape('&otilde;'))
       	line = line.replace('&ouml;', h.unescape('&ouml;'))
       	line = line.replace('&oslash;', h.unescape('&oslash;'))
       	line = line.replace('&ugrave;', h.unescape('&ugrave;'))
       	line = line.replace('&uacute;', h.unescape('&uacute;'))
       	line = line.replace('&ucirc;', h.unescape('&ucirc;'))
       	line = line.replace('&uuml;', h.unescape('&uuml;'))
       	line = line.replace('&yacute;', h.unescape('&yacute;'))
       	line = line.replace('&thorn;', h.unescape('&thorn;'))
       	line = line.replace('&yuml;', h.unescape('&yuml;'))
       	newlines.append(line.encode('utf-8'))
       	
with open('output.sql', 'w') as f:
    for line in newlines:
        f.write(line)
